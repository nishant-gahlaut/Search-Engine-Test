b"\nLet f([x1,x2,\xe2\x8b\xaf,xk])f([x1,x2,\xe2\x8b\xaf,xk]) be the minimum number of subarrays such that each xixi belongs to exactly one subarray, and it's possible to arrange the subarrays in a way that makes x increasing. For example, f([5,4,1,2,3])=3 since we can divide x into three subarrays: [5],[4],[1,2,3] then rearrange them to [1,2,3],[4],[5].\nYou are given a permutation P of length N. You are also given Q queries of the form L,R. For each query, find the value of f([PL,PL+1,\xe2\x8b\xaf,PR]).\nInput Format\n\nThe first line contains two space-separated integers, N and Q.\nThe second line contains a permutation P of length N, represented by N space-separated integers P1,P2,\xe2\x80\xa6,PN.\nThe i-th line of the next Q lines contains two integers, L and R.\n\nOutput Format\nFor each query, print the answer to the subarray on a new line.\nConstraints\n\n1\xe2\x89\xa4N,Q\xe2\x89\xa45\xe2\x8b\x85105\n1\xe2\x89\xa4Pi\xe2\x89\xa4N\nP is a permutation\n1\xe2\x89\xa4L\xe2\x89\xa4R\xe2\x89\xa4N\n\nSubtasks\n\nSubtask 1 (10 points):\n1\xe2\x89\xa4N,Q\xe2\x89\xa4103\nSubtask 2 (30 points):\n1\xe2\x89\xa4N,Q\xe2\x89\xa45\xe2\x8b\x85104\nSubtask 3 (60 points): \n1\xe2\x89\xa4N,Q\xe2\x89\xa45\xe2\x8b\x85105\n\n\n                        Sample Input 1\n                        \n\n\n\n\n\n6 4\n5 1 3 2 4 6\n1 2\n2 3\n1 5\n3 6\n\n\n\n                        Sample Output 1\n                        \n\n\n\n\n\n2\n1\n5\n3\n\n\nExplanation\nTest case 1: Divide the subarray [5,1] into [5] and [1].\nTest case 2: The subarray [1,3] is already sorted, no need to divide it further\nTest case 3: Divide the subarray into [5],[1],[3],[2] and [4].\nTest case 4: Divide the subarray into [3],[2] and [4,6].\n\n\n\nAuthor:\n5\xe2\x98\x85zoooma13\n\n\nEditorial:\nhttps://discuss.codechef.com/problems/RERNG\n\n\nTags:\n\n               \n                 Segment Trees\n                 \n                     \n                     Advanced Data Structures, Advanced Tree Structures\n                 \n               \n             \n             \n\n\n\n                        Difficulty Rating:\n                    \n\n2753\n\n\nDate Added:\n14-05-2022\n\n\nTime Limit:\n2 secs\n\n\nSource Limit:\n50000 Bytes\n\n\nLanguages:\nCPP17, PYTH 3.6, JAVA, C, CPP14, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, kotlin, PERL, SCALA, LUA, BASH, JS, rust, LISP sbcl, PAS gpc, BF, CLOJ, R, D, CAML, swift, FORT, ASM, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, PRLG, SQLQ, ICK, NICE, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, NEM\n\n\n\n\n\nSubmit\n\n"