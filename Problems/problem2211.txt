b'\n\xc2\xa0\nRahul has another problem to solve, he is given an array A now he has to increase its every element by its own index(1 - based).\nThen he has to find the sum of the maximum elements of the resultant array in every possible sub-array. \nAs the answer can be large, output it modulo 10^9 + 7.\nHelp him....\n\n\xc2\xa0\nFlawed code\n\n#include  \n#define Ull long long\nusing namespace std;\nUll mod=1e9+7;\nint main(){\n    int t;\n    cin>>t;\n    while(t--){\n        int n;\n        cin>>n;\n        Ull ar[n],x,ans;\n        int b[n],a[n];\n        stack s;\n        for(int i=0;n>i;i++){cin>>ar[i];ar[i] = (ar[i] + i + 1)%mod;}\n        a[0]=0;\n        s.push(0);\n        for(int i=1;n>i;i++){\n            while(!s.empty() && ar[i] > ar[s.top()]){\n                b[s.top()] = i-s.top();\n                s.pop();}\n            a[i] = (s.empty())? i : i-s.top();\n            s.push(i);}\n        while(!s.empty()){\n            b[s.top()] = n-s.top();\n            s.pop();}\n        ans=1;\n        for(int i=0;n>i;i++){\n            x = (a[i] + b[i] + 1)%mod;\n            x = (x * ar[i])%mod;\n            ans = (ans + x)%mod;}\n            printf("%lld\\n",ans);\n    }}\n\nInput\n\nThe first line of the input contains an integer N denoting the number of elements in an array.\nThe second line contains N space-separated integers A1, A2, ..., AN representing elements in the array. \n\n\xc2\xa0\nOutput\n\nOutput a single line containing the answer".\n\n\xc2\xa0\nConstraints\n\n1 \xe2\x89\xa4 N \xe2\x89\xa4 100000\n0 \xe2\x89\xa4 Ai \xe2\x89\xa4 10^17\n\n\xc2\xa0\nExample\nInput:\n3\n1 2 3\n\nOutput:\n28\n\n\xc2\xa0\n\n\n\nAuthor:\n4\xe2\x98\x85vibhor3gupta\n\n\nEditorial:\nhttps://discuss.codechef.com/problems/CHKAR\n\n\nTags:\n\n               \n                 array, flfi2016, hard, stock-span, vibhor3gupta\n                 \n               \n             \n             \n\n\n\n                        Difficulty Rating:\n                    \n\nN/A\n\n\nDate Added:\n14-03-2016\n\n\nTime Limit:\n1 secs\n\n\nSource Limit:\n50000 Bytes\n\n\nLanguages:\nCPP14, PYP3\n\n\n\n\n\nSubmit\n\n'