b"\nYou are given an array $A$ of length $N$, which initially is a permutation of integers from $1$ to $N$.\nWe want to make the array empty by performing the following operation $N$ times: choose any index $i$ and remove $A_i$ from $A$, which decrements the size of $A$ by $1$. \nWe will perform exactly $N$ such operations. Apparently, there are $N!$ ways to do this. But now we wonder how many ways satisfy that, during the process, the array doesn't contain any consecutive monotone triples? \nA consecutive monotone triple is a tuple of consecutive elements $(i, i+1, i+2)$\nwhich satisfy\n$A_i < A_{i+1} < A_{i+2}$ or $A_i > A_{i+1} > A_{i+2}$.\nSince the answer may be large, print it modulo $10^9+7$.\nInput Format\nThe first line contains a single integer $T$ $-$ the number of test cases.\nThe first line of each test case contains the single integer $N$.\nThe second line of each testcases contains $n$ integers $A_1, A_2, \\ldots, A_N$ $-$ the initial array $A$.\nOutput Format\nFor each test case print a single integer $-$ the answer modulo $10^9+7$.\nConstraints\n\n$1 \\le T \\le 1000$\n$3 \\le N \\le 200\\,000$\n$1 \\le A_i \\le N$\nThe sum of $N$ over all test cases doesn't exceed $200\\,000$.\n$A_i \\ne A_j$ for $i \\ne j$\nInitially $A$ doesn't contain consecutive monotone triples.\n\nSubtasks\nSubtask 1 (50 points): The sum of $N$ over all test cases doesn't exceed $5000$.\nSubtask 2 (50 points): No additional constraints.\n\n                        Sample Input 1\n                        \n\n\n\n\n\n2\n4\n1 3 2 4\n4\n1 4 2 3\n\n\n\n                        Sample Output 1\n                        \n\n\n\n\n\n12\n18\n\n\nExplanation\nIn the second testcase, an example of a valid deletion is $[1,4,2,3] \\rightarrow [1,4,3] \\rightarrow  [1,3] \\rightarrow  [1]$.\nMeanwhile $[1,4,2,3] \\rightarrow [1,2,3] \\rightarrow  [1,3] \\rightarrow  [1]$ is not a valid deletion since $[1,2,3]$ contains a consectutive monoton triple.\n\n\n\nAuthor:\ndannyboy1204\n\n\nTester:\n7\xe2\x98\x85tabr\n\n\nEditorial:\nhttps://discuss.codechef.com/problems/PERMDEL\n\n\nTags:\n\n               \n                 combinatorics, dannyboy1204, ltime104, ltime104, medium, medium, permutation, segment-tree\n                 \n               \n             \n             \n\n\n\n                        Difficulty Rating:\n                    \n\n3036\n\n\nDate Added:\n28-01-2022\n\n\nTime Limit:\n2 secs\n\n\nSource Limit:\n50000 Bytes\n\n\nLanguages:\nCPP17, PYTH 3.6, JAVA, C, CPP14, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, kotlin, PERL, SCALA, LUA, BASH, JS, rust, LISP sbcl, PAS gpc, BF, CLOJ, R, D, CAML, swift, FORT, ASM, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, PRLG, SQLQ, ICK, NICE, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, NEM\n\n\n\n\n\nSubmit\n\n"