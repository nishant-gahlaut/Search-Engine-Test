b"\n Read problems statements in Mandarin Chinese, Russian and Vietnamese as well.\n\nChef is working with the development of a new city Krewsko. He and other city planners are designing the transportation system of Krewsko. They are using Cartesian coordinates and Krewsko will only have roads that are parallel to either the x-axis or the y-axis.\n\n\nIt is clear that we need to add one set of traffic lights at every intersection of roads where a person has at least two other directions to continue their trip when arriving at the intersection. Your task is to count how many traffic light sets should be deployed. In particular, for each road you want to know how many traffic light sets will appear on that road.\n\n\nLet's formalize how a road in the city is defined. A road is a segment on the plane with endpoints in Xi,1, Yi,1 and Xi,2, Yi,2 for ith line. You are guaranteed that each line segment is either a vertical line or a horizontal line. An intersection is a point that belongs to two line segments: one horizontal and another vertical. We guarantee that no two vertical lines will share a point and no two horizontal lines share a point.\n\n\nYou must put a set of lights at each intersection of a horizontal and a vertical line segment where the point of intersection is not an endpoint of both segments.\n\n\nInput\nThe first line of the input contains an integer N indicating number of roads.\nThe next N lines contain 4 integers each. The ith line contain Xi,1, Yi,1 and Xi,2, Yi,2.\nOutput\n\nThe output consists of two lines. The first line contains a single\ninteger indicating the number of sets of lights that will be used\nthroughout all of Krewsko. The second line consists of N\nintegers. The i'th such integer indicates the number of traffic light\nsets that will be deployed to the i'th road. There should be a single space between consecutive integers on this line.\n\n\nConstraints\n\n1 \xe2\x89\xa4 N \xe2\x89\xa4 105\n1 \xe2\x89\xa4 Xi,1 \xe2\x89\xa4 105\n1 \xe2\x89\xa4 Yi,1 \xe2\x89\xa4 105\n1 \xe2\x89\xa4 Xi,2 \xe2\x89\xa4 105\n1 \xe2\x89\xa4 Yi,2 \xe2\x89\xa4 105\nThe length of each road is positive and each road will either be a horizontal line segment or a vertical line segment.\n\nSubtasks\n\nSubtask #1 [40 points]: N \xe2\x89\xa4 10000\nSubtask #2 [60 points]: No additional constraints\n\nExample\nInput:\n4\n2 1 2 6\n1 3 5 3\n4 1 4 4\n1 5 5 5\nOutput:\n3\n2 2 1 1\n\n\n\n\nAuthor:\n6\xe2\x98\x85cenadar\n\n\nTester:\n6\xe2\x98\x85xcwgf666\n\n\nEditorial:\nhttps://discuss.codechef.com/problems/URBANDEV\n\n\nTags:\n\n               \n                 Segment Trees, Sweep line Algorithm\n                 \n                     \n                     Advanced Data Structures, Advanced Tree Structures, Advanced Algorithms, Computational Geometry\n                 \n               \n             \n             \n\n\n\n                        Difficulty Rating:\n                    \n\n2255\n\n\nDate Added:\n20-11-2015\n\n\nTime Limit:\n1 secs\n\n\nSource Limit:\n50000 Bytes\n\n\nLanguages:\nPYTH 3.6, JAVA, C, CPP14, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, PERL, SCALA, LUA, BASH, JS, LISP sbcl, PAS gpc, BF, CLOJ, D, CAML, FORT, ASM, FS, WSPC, LISP clisp, SCM guile, PERL6, ERL, CLPS, PRLG, ICK, NICE, ICON, SCM chicken, PIKE, SCM qobi, ST, NEM\n\n\n\n\n\nSubmit\n\n"