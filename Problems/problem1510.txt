b"\nRead problems statements in Mandarin chinese, Russian and Vietnamese as well.\nYou are given n points p1, p2, ..., pn in a plane and n integers a1, a2, ..., an.\nFor any index i (1 \xe2\x89\xa4 i \xe2\x89\xa4 n), it is possible to perform the following operation (let's call it i-rotation) on an arbitrary point P: Rotate P by ai degrees counter-clockwise around the point pi.\n\nNote that ai will always be a multiple of 90. Also note that such an operation changes the point P.\nYou should process q queries. Each query is of one of the following types:\n\n1 x y l r: Initially, you are given P = (x, y). Perform each i-rotation for i = l, l+1, ..., r (in this order) on the point P. Compute the coordinates of P modulo 109 + 7 after performing all i-rotations.\n2 u x y b: Change the point pu to (x, y) and the angle au to b.\n\nInput\n\nThe first line of the input contains a single integer n.\nThen, n lines follow. The i-th of these lines contains three space-separated integers xi, yi and ai. The i-th point is initially pi = (xi, yi).\nThe next line contains a single integer q denoting the number of queries.\nEach of the following q lines contains a query in the format described above.\n\nOutput\nFor each query of type 1, print a single line containing two space-separated integers denoting the coordinates of the point P after performing all rotations, modulo 109 + 7.\nConstraints\n\n1 \xe2\x89\xa4 n \xe2\x89\xa4 105\n0 \xe2\x89\xa4 xi, yi, x, y \xe2\x89\xa4 109\n0 \xe2\x89\xa4 ai, b < 360\n1 \xe2\x89\xa4 q \xe2\x89\xa4 2 \xc2\xb7 105\n1 \xe2\x89\xa4 l \xe2\x89\xa4 r \xe2\x89\xa4 n\n1 \xe2\x89\xa4 u \xe2\x89\xa4 n\n\n\n                        Sample Input 1\n                        \n\n\n\n\n\n3\n0 0 90\n1 2 180\n3 2 270\n3\n1 5 5 1 3\n2 2 2 2 90\n1 5 5 1 3\n\n\n\n                        Sample Output 1\n                        \n\n\n\n\n\n0 1000000005\n1000000003 6\n\n\n\n\n\nAuthor:\n6\xe2\x98\x85chemthan\n\n\nTester:\n6\xe2\x98\x85kingofnumbers\n\n\nEditorial:\nhttps://discuss.codechef.com/problems/ROTPTS\n\n\nTags:\n\n               \n                 Segment Trees, Square Root Decomposition, Matrix Multiplication\n                 \n                     \n                     Advanced Data Structures, Advanced Tree Structures, Advanced Algorithms, Mathematics, Matrices\n                 \n               \n             \n             \n\n\n\n                        Difficulty Rating:\n                    \n\n2767\n\n\nDate Added:\n29-11-2017\n\n\nTime Limit:\n1.5 secs\n\n\nSource Limit:\n50000 Bytes\n\n\nLanguages:\nPYTH 3.6, JAVA, C, CPP14, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, kotlin, PERL, SCALA, LUA, BASH, JS, rust, LISP sbcl, PAS gpc, BF, CLOJ, D, CAML, swift, FORT, ASM, FS, WSPC, LISP clisp, SCM guile, PERL6, ERL, CLPS, PRLG, ICK, NICE, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, NEM\n\n\n\n\n\nSubmit\n\n"