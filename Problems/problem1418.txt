b"\n Read problems statements in  Mandarin Chinese  and  Russian.\nTreeland is a kingdom consisting of N cities labelled 0, 1, 2, ... N-1. There are N-1 roads connecting these cities such that each pair of cities is connected by a unique path(forming a tree structure). Needless to say, city 0 is the capital of Treeland. Initially, each city is controlled by a different gangster. The citizens are allowed to move from any city to any of its adjacent city. However, if the two cities are controlled by different gangsters, they need to pay unit cost in order to move. The distance between any pair u, v of cities denoted by dist(u,v)  is defined as the minimum cost a person has to pay to go from u to v(or v to u).\n\nEvery year, a new gangster emerges in the capital. As always, the gangster will wish to expand his territory. To do so, he will choose a city u, and march with his gangster army from the capital to u(along the tree path). All the cities they encounter(including capital and u) will be forciby occupied by this gangster. Because of this, distance between many cities can potentially change, which makes the people mad. Therefore, they will come to you for help.\n\nGiven a city u, they will ask you evaluate \n\n f(u) = avgx in subtree rooted at u(including u)  dist(capital, x) \n\nInput\nThe first line of the input contains an integer T denoting the number of test cases. The description of T test cases follows.\n\nThe first line of each test case contains a single integer N denoting the number of cities in Treeland. The next N-1 lines contain two space-separated integers Ai, Bi denoting the ith road is between cities Ai and .Bi.\n\nThe next line contains Q, the number of queries. The next Q lines each contain a character t and an integer  u .\nIf t='O', it means a new gangster has marched from capital to u, Occupying all cities along the path.\nIf t='q', it means you have to report f(u)\n\nOutput\nFor each test case, for each query of type 'q', output a single line containing the value of  f(u) . Answers correct upto 6 places after decimal are acceptable.\nConstraints\n\n1 \xe2\x89\xa4 T \xe2\x89\xa4  15 \n1 \xe2\x89\xa4 N \xe2\x89\xa4  100000 \n1 \xe2\x89\xa4 Q \xe2\x89\xa4  100000 \nThe sum of value of N over all test cases will be no more than 200000.\nThe sum of value of Q over all test cases will be no more than 200000.\n\nExample\nInput:\n1\n13\n0 1\n0 2\n1 11\n1 10\n1 9\n9 12\n2 5\n5 8\n2 4\n2 3\n4 6\n4 7\n7\nq 0\nO 4\nq 6\nq 2\nO 9\nq 9\nq 2\n\nOutput:\n2.0000000000\n1.0000000000\n0.8571428571\n0.5000000000\n1.8571428571\n\n\n\xc2\xa0\nExplanation\n Initially, distance of each city from capital is equal to the number of edges on the shortest path, because each city is controlled by a different gangster. \nTherefore, value of f(0) is (0+1+1+2+2+2+3+2+2+3+2+3+3)/13 = 2.\nAfter performing 'O 4', cost of the edges (0,2) and (2,4) become 0. The cost of all other edges remains same. Therefore, f(6) becomes 1.\n\n\n\n\nAuthor:\n5\xe2\x98\x85utkarsh_lath\n\n\nEditorial:\nhttps://discuss.codechef.com/problems/MONOPLOY\n\n\nTags:\n\n               \n                 Segment Trees, Fenwick Trees, HLD\n                 \n                     \n                     Advanced Data Structures, Advanced Tree Structures, Advanced Algorithms, Advanced Graph Algos\n                 \n               \n             \n             \n\n\n\n                        Difficulty Rating:\n                    \n\n2829\n\n\nDate Added:\n26-06-2013\n\n\nTime Limit:\n2 secs\n\n\nSource Limit:\n50000 Bytes\n\n\nLanguages:\nJAVA, C, CPP14, PYP3, CS2, ADA, PAS fpc, NODEJS, GO, HASK, PERL, LUA, BASH, JS, LISP sbcl, PAS gpc, BF, CLOJ, D, CAML, FORT, ASM, FS, LISP clisp, ERL, CLPS, ICK, NICE, ICON, NEM\n\n\n\n\n\nSubmit\n\n"